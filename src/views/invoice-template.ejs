<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Invoice <%= payment.invoice %></title>

    <style>
      * {
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Arial, sans-serif;
        background: #f5f7f6;
        padding: 40px;
        color: #2e3e23;
      }

      .invoice-container {
        max-width: 800px;
        margin: auto;
        background: #ffffff;
        padding: 40px;
        border-radius: 10px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
      }

      /* Header */
      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 2px solid #e5e7eb;
        padding-bottom: 20px;
        margin-bottom: 30px;
      }

      .brand {
        display: flex;
        flex-direction: column;
        align-items: start;
        justify-content: start;
        gap: 12px;
      }

      .logo {
        width: 200px;
        height: auto;
        margin-left: -10px;
      }
      .center-info{
        margin-top: -10px;
      }
      .brand h1 {
        margin: 0;
        font-size: 22px;
        color: #2e3e23;
      }

      .brand p {
        margin: 2px 0 0;
        font-size: 12px;
        color: #6b7280;
      }

      .invoice-title {
        text-align: right;
      }

      .invoice-title h2 {
        margin: 0;
        font-size: 26px;
      }

      .invoice-title p {
        margin: 4px 0 0;
        font-size: 13px;
        color: #6b7280;
      }

      /* Info grid */
      .info-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-bottom: 30px;
      }

      .info-box {
        background: #f9fafb;
        padding: 15px 20px;
        border-radius: 8px;
      }

      .info-box h4 {
        margin: 0 0 8px;
        font-size: 14px;
        color: #4b5563;
      }

      .info-box p {
        margin: 4px 0;
        font-size: 14px;
      }

      /* Table */
      table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 30px;
      }

      table th,
      table td {
        padding: 12px 14px;
        border-bottom: 1px solid #e5e7eb;
        text-align: left;
        font-size: 14px;
      }

      table th {
        background: #f3f4f6;
        font-weight: 600;
      }

      table td:last-child,
      table th:last-child {
        text-align: right;
      }

      /* Total */
      .total {
        display: flex;
        justify-content: flex-end;
      }

      .total-box {
        width: 300px;
        background: #f9fafb;
        padding: 20px;
        border-radius: 8px;
      }

      .total-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 8px;
        font-size: 14px;
      }

      .total-row.final {
        font-size: 18px;
        font-weight: bold;
        margin-top: 10px;
        border-top: 1px solid #e5e7eb;
        padding-top: 10px;
      }

      /* Footer */
      .footer {
        margin-top: 40px;
        text-align: center;
        font-size: 12px;
        color: #6b7280;
      }

      @media print {
        body {
          background: none;
          padding: 0;
        }

        .invoice-container {
          box-shadow: none;
          border-radius: 0;
        }
      }
    </style>
  </head>

  <body>
    <div class="invoice-container">
      <!-- Header -->
      <div class="header">
        <div class="brand">
          <img src="https://sukunlife.github.io/audio/logo.jpg" class="logo" />
          <div class="center-info">
            <p>
              Dhanmondi 32 <br />
              Near Sobhanbag Jame Mosque <br />
              Dhanmondi, Dhaka.
            </p>
            <p>01915109430</p>
          </div>
        </div>

        <div class="invoice-title">
          <h2>Invoice</h2>
          <p># <%= payment.invoice %></p>
        </div>
      </div>

      <!-- Info -->
      <div class="info-grid">
        <div class="info-box">
          <h4>Billed To</h4>
          <p><strong><%= payment.customer.name %></strong></p>
          <p><%= payment.customer.email %></p>
          <p><%= payment.customer.mobile %></p>
        </div>

        <div class="info-box">
          <h4>Invoice Info</h4>
          <p><strong>Date:</strong> <%= printedAt.toLocaleDateString() %></p>
          <p><strong>Status:</strong> Paid</p>
          <p><strong>Payment Source:</strong> <%= payment.source %></p>
        </div>
      </div>

      <!-- Table -->
      <table>
        <thead>
          <tr>
            <th>Description</th>
            <th>Amount</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <%= payment.source === "appointment" ? "Appointment Booking" :
              "Order Payment" %>
            </td>
            <td><%= payment.amount %> BDT</td>
          </tr>
        </tbody>
      </table>

      <!-- Total -->
      <div class="total">
        <div class="total-box">
          <div class="total-row">
            <span>Subtotal</span>
            <span><%= payment.amount %> BDT</span>
          </div>
          <div class="total-row">
            <span>Paid</span>
            <span><%= payment.amount %> BDT</span>
          </div>
          <div class="total-row final">
            <span>Total</span>
            <span><%= payment.amount %> BDT</span>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <div class="footer">
        <p>Thank you for choosing <strong>SukunLife</strong>.</p>
        <p>
          This invoice was generated electronically and does not require a
          signature.
        </p>
      </div>
    </div>

    <script>
      window.print();
    </script>
  </body>
</html>
